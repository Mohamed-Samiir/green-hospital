<div class="container">
  <div class="row">
    <div class="page-info">
      <h1 class="page-title">Request Details</h1>
      <div class="page-actions">
        <button class="saveBtn" mat-raised-button color="primary" (click)="SaveGroup()" [disabled]="!selectedDriverId">
          <mat-icon>save</mat-icon>
          Save
        </button>
        <button mat-raised-button color="warn" (click)="backToGroupsList()">
          <mat-icon>keyboard_arrow_left</mat-icon>
          Back to groups
        </button>
        
         
      </div>
    </div>
  </div>
  <div class="row">
    <div class="user">
      <div class="user-img" [ngStyle]="{'background-image': 'url('+request.clientImageURL+')'}">
      </div>
      <div class="user-info">
        <span class="user-name">{{request.clientFirstName}} {{request.clientLastName}}</span>
        <button mat-raised-button color="primary" (click)="ViewProfileDetails(request.clientId)">
          View Client Profile
        </button>
      </div>
    </div>
  </div>
  <div class="row trip-details">
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="tripType">Trip type:</label>
        <input type="text" [value]="request.tripType" name="tripType" id="tripType" class="form-control" disabled>
      </div>

    </div>
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="tripDuration">Duration:</label>
        <input type="text" [value]="request.tripDuration" name="tripDuration" id="tripDuration" disabled
          class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="tripPassengerNo">Requested Seats:</label>
        <input type="text" [value]="request.tripPassengerNo" name="tripPassengerNo" id="tripPassengerNo" disabled
          class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="PaymentMethod">Payment Method:</label>
        <input type="text" [value]="request.paymentMethod" name="PaymentMethod" id="PaymentMethod" disabled
          class="form-control">
      </div>

    </div>

    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="tripStartDate">Start date:</label>
        <input type="text" [value]="request.tripStartDate | date" name="tripStartDate" id="tripStartDate" disabled
          class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="tripEndDate">End date:</label>
        <input type="text" [value]="request.tripEndDate | date" name="tripEndDate" id="tripEndDate" disabled
          class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="tripStartTime">Departure at:</label>
        <input type="text" [value]="request.tripStartTime" name="tripStartTime" id="tripStartTime" disabled
          class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail" *ngIf="request.tripEndTime">
        <label for="tripEndTime">Return Time:</label>
        <input type="text" [value]="request.tripEndTime" name="tripEndTime" id="tripEndTime" disabled
          class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="isGoingAndBack">Is Going and Back:</label>
        <input type="text" [value]="request.isGoingAndBack ? 'Yes' : 'No'" name="isGoingAndBack" disabled
          id="isGoingAndBack" class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-3">
      <div class="form-group trip-detail">
        <label for="isFullyReservied">Reserve all car:</label>
        <input type="text" [value]="request.isFullyReservied ? 'Yes' : 'No'" name="isFullyReservied" disabled
          id="isFullyReservied" class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-6" *ngIf="request.schoolNameEn">
      <div class="form-group trip-detail">
        <label for="SchoolName">School Name:</label>
        <input type="text" [value]="request.schoolNameEn" name="SchoolName" id="PaymentMethod" disabled
          class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-6">
      <div class="form-group trip-detail">
        <label for="tripFromAdress">From Address:</label>
        <input type="text" [value]="request.tripFromAdress" name="tripFromAdress" id="tripFromAdress" disabled
          class="form-control">
      </div>

    </div>
    <div class="col-sm-6 col-md-6">
      <div class="form-group trip-detail">
        <label for="tripToAdress">To Address:</label>
        <input type="text" [value]="request.tripToAdress" name="tripToAdress" id="tripToAdress" disabled
          class="form-control">
      </div>

    </div>

    <div class="col-sm-12">
      <div class="form-group trip-detail">
        <label for="tripNotes">Notes:</label>
        <textarea type="text" [value]="request.tripNotes" name="tripNotes" id="tripNotes" disabled rows="2"
          class="form-control"></textarea>
      </div>

    </div>

  </div>
  <div class=" row">
    <div class="col-12">
      <div class="section-title">Request Passengers</div>
    </div>
    <div class="col-12">
      <table class="request-passangers-table">
        <tr>
          <th>#</th>
          <th>Passanger Name</th>
          <th>Passanger Grade</th>
        </tr>
        <tr *ngFor="let passengr of request.passengers ;let i = index">
          <td>{{i+1}}</td>
          <td>{{passengr.passNm}}</td>
          <td>{{passengr.passGrd}}</td>
        </tr>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="section-title">Available groups</div>
    </div>
    <div class="col-sm-12 col-md-4" *ngFor="let group of groups ;let i = index">
      <div class="group-card">
        <div class="card-header">
          <div class="group-name">
            {{group.groupName}}
          </div>
          <div class="seats">
            {{group.avaliableSeats}} seats
          </div>
          <mat-checkbox class="example-margin" [checked]="selectedDriverId === group.driverId"
            (change)="ChangeSelection($event)" value="{{group.driverId}}">
            Select
          </mat-checkbox>
        </div>
        <div class="card-body">
          <div class="trip-info">
            Trip Type: {{group.tripType}}
          </div>
          <div class="trip-info">
            Driver Name: {{group.driverFirstName}} {{group.driverLastName}}
          </div>
          <div class="trip-info">
            Destination: {{group.destination}}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
