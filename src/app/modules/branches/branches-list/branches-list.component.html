<div class="container-fluid">
  <div class="row">
    <app-data-table-filter [filters]="gridFilters" [data]="filterData"
      (getFilteredData)="setFilteredData($event)"></app-data-table-filter>
  </div>
  <div class="row">
    <div class="col-12 d-flex justify-content-end pb-2" *ngIf="authService.isAdmin()">
      <p-button type="button" icon="pi pi-plus" label="إضافة فرع" iconPos="right" styleClass="grid_add_btn"
        (click)="showAddDialog()">
      </p-button>
    </div>
  </div>
  <div class="row">
    <app-data-grid [columns]="gridColumns" [data]="gridData" [actions]="gridActions" [isGetObject]="true"
      (onEditObjectClick)="editBranch($event)" (onDetailsObjectClick)="deleteBranch($event)"
      (onDeleteObjectClick)="showDetailsDialog($event)">
    </app-data-grid>
  </div>
</div>

<!-- Add/Edit Branch Dialog -->
<p-dialog header="{{isEdit ? 'تعديل الفرع' : 'إضافة فرع'}}" [(visible)]="isShowAddDialog" [modal]="true"
  [style]="{width: '50vw'}" [draggable]="false" [resizable]="false" (onHide)="hideAddDialog()">
  <app-add-branch #addBranch [selectedBranch]="selectedBranchForEdit" [isEdit]="isEdit"
    (branchAdded)="onBranchAdded()"></app-add-branch>
</p-dialog>

<!-- Branch Details Dialog -->
<p-dialog header="تفاصيل الفرع" [(visible)]="isShowDetailsDialog" [modal]="true" [style]="{width: '50vw'}"
  [draggable]="false" [resizable]="false" (onHide)="hideDetailsDialog()">
  <app-view-branch-details [selectedBranch]="selectedBranchForDetails"></app-view-branch-details>
</p-dialog>